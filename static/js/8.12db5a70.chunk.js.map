{"version":3,"sources":["components/NavMoreIcon/icons/index.js","components/NavMoreIcon/index.js","components/Popover/styled.js","components/Popover/index.js","pages/MainPage/components/InputSearchBarForm/index.js","pages/MainPage/HideableOnScrollHeader.js","apis/index.js","pages/MainPage/index.js","logics/index.js","hooks/useGetNowScrollDirection/index.js","pages/MainPage/components/VideoCardsLayout/index.js","pages/MainPage/components/Paginations/index.js","pages/MainPage/components/VideoCardItem/MoreFunctionShield/index.js","pages/MainPage/components/VideoCardItem/styled.js","pages/MainPage/components/VideoCardItem/index.js"],"names":["HorizontalThreeDots","dotColor","xmlns","width","height","viewBox","fill","fillRule","d","defaultProps","NavMoreIcon","rest","WrapperToPositioned","styled","div","PopoverWrapper","props","top","left","isShow","onRightEdge","offsetUpPX","PointUpTriangle","color","TransparentWholeWindowLightBox","Popover","children","CompToRender","useState","setIsShow","onClick","prev","InputSearchBarForm","onSubmit","searchText","useForm","handleSubmit","register","errors","Input","defaultValue","name","inputRef","inputProps","type","TopClimbUp","keyframes","topSlideDown","TopBarHeaderWrapper","HideTopBarHeaderWrapper","PopOverContent","history","useHistory","push","HideableOnScrollHeader","useGetNowScrollDirection","placeholder","youtube_querySWRFetcher_Fetch100CountData","url","a","fetch","response1","invariant","ok","status","json","result1","error","message","shouldFetchMore","pageInfo","totalResults","nextPageToken","response2","result2","items","console","swal","fire","icon","titleText","text","fetchVideodetailByIds","response3","result3","log","VideosCenterPositionedWrapper","section","MainPage","searchKeyWords","useContext","AppEasyContext","setSearchText","mainPageCurrPageNumber","setMainPageCurrPageNumber","useSWR","process","revalidateOnFocus","data","bunchResults","bunchResultCount","length","countSliceIndex","startIndex","lastPlusOneIndex","partialData","slice","commaSeperatedIDsString","IDsString","reduce","acc","curr","id","videoId","getCommasSeperatedIDsStringFromVideoItems","removeLastComma","substring","getVideoContentDetailFechingURL","partitalContentDdetailData","forEach","p","idx","duration","contentDetails","handleChangePage","useCallback","event","newPage","window","scrollTo","values","keywords","VideoCardsLayout","map","item","VideoCardItem","key","rowPerPage","nowPage","pagesCount","countPageCount","Paginations","rowsPerPage","onChangePage","renderPaginations","checkIsAddedInCollections","itemId","collectionsLiteral","localStorage","getItem","videoCollections","JSON","parse","getCollections","addToCollections","setItem","stringify","Object","create","collectionsObj","err","removeVideoFromCollections","nowBounchDataCount","pages","Math","floor","countPerPage","parseISO8601DurationToTimes","durationText","moment","_hours","hours","_minutes","minutes","_seconds","seconds","Number","thresholdHeight","isScrollDown","setIsScrollDown","isScrollDownRef","useRef","previousScrollTopRef","_handleOnScroll","nowScrollTop","pageYOffset","current","abs","throttledHandleONScroll","_throttle","useEffect","addEventListener","removeEventListener","FlexVideoLayout","bottomClimbUp","bottomSlideDown","PaginationWrapper","HidePaginationWrapper","PaginationRounded","totalPage","count","onChange","page","variant","shape","MoreFunctionShieldWrapper","AddToCollectionButton","PlayVideoButton","MoreFunctionShield","onMouseLeave","itemData","onCancelCollectionDone","collectionVideoId","kind","channelId","isExitinCollection","isInCollection","setIsInCollection","VideoCardWrapper","article","FunctionalVideoCardWrapper","isShowShield","setIsShowShield","evt","onMouseEnter","className","src","snippet","thumbnails","medium","alt","title","description"],"mappings":"uKAIaA,EAAsB,SAAC,GAAD,IAAEC,EAAF,EAAEA,SAAF,OAClC,yBACCC,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,aAER,0BACCC,KAAML,EACNM,SAAS,UACTC,EAAE,mPAQLR,EAAoBS,aAAe,CACjCR,SAAU,QCLGS,MAZf,YAA2C,IAArBT,EAAoB,EAApBA,SAAaU,EAAO,4BACzC,OACC,yBAAUA,EACT,kBAAC,EAAD,CAAqBV,SAAUA,M,utBCP3B,IAAMW,EAAsBC,IAAOC,IAAV,KAKnBC,EAAiBF,IAAOC,IAAV,KAEZ,SAAAE,GAAK,4BAAmBA,EAAMC,KAAO,EAAhC,eAAwCD,EAAME,MAAQ,EAAtD,iBACP,SAAAF,GAAK,OAAIA,EAAMG,OAAS,QAAU,UACrC,SAAAH,GAAK,OAAKA,EAAMI,aAAe,SAC1B,gBAAEC,EAAF,EAAEA,WAAF,iCAAsCA,EAAU,WAAOA,EAAP,MAAwB,MAAxE,eAGFC,EAAkBT,IAAOC,IAAV,KAGjB,SAAAE,GAAK,OAAKA,EAAMI,aAAN,SAKH,SAAAJ,GAAK,wCAA+BA,EAAMO,OAAS,UAA9C,oBACT,SAAAP,GAAK,OAAKA,EAAMI,aAAN,SAIXI,EAAiCX,IAAOC,IAAV,KAO9B,SAAAE,GAAK,OAAIA,EAAMG,OAAS,QAAU,UCiBhCM,EA3CC,SAAC,GAMV,IALNC,EAKK,EALLA,SACAC,EAIK,EAJLA,aACAP,EAGK,EAHLA,YACAC,EAEK,EAFLA,WACGV,EACE,wEACuBiB,oBAAS,GADhC,mBACET,EADF,KACUU,EADV,KAGL,OACC,oCAEC,kBAACL,EAAD,CACCL,OAAQA,EACRW,QAAS,WACRD,GAAU,MAGZ,kBAACjB,EAAD,KACC,yBACCkB,QAAS,WACRD,GAAU,SAAAE,GAAI,OAAKA,OAGnBL,GAEF,kBAACX,EAAD,eACCI,OAAQA,EACRC,YAAaA,EACbC,WAAYA,GACRV,GAEJ,kBAACW,EAAD,CAAiBF,YAAaA,IAE9B,kBAACO,EAAD,U,iBCvBUK,MAhBf,YAAqD,IAAxBC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,WAAa,EACPC,cAAnCC,EAD0C,EAC1CA,aAAcC,EAD4B,EAC5BA,SAGtB,OAJkD,EAClBC,OAI9B,0BAAML,SAAUG,EAAaH,IAC3B,kBAACM,EAAA,EAAD,CAAQC,aAAcN,EAAYO,KAAK,WAAWC,SAAUL,EAAS,IAAKM,WAAY,CAAE,aAAc,iBACtG,4BAAQC,KAAK,UAAb,8B,i9BCHN,IAAMC,EAAaC,YAAH,KAUVC,EAAeD,YAAH,KAUZE,EAAsBnC,IAAOC,IAAV,IAURiC,GAIXE,EAA0BpC,IAAOC,IAAV,IAUZ+B,GAIXK,EAAiB,WACrB,IAAMC,EAAUC,cAChB,OACE,4BACEtB,QAAS,WACPqB,EAAQE,KAAK,kBAFjB,yBAgDWC,MAtCf,YAA2D,IAAzBrB,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,WAG1C,OAFqBqB,cAGnB,kBAACN,EAAD,KACE,kBAAC,EAAD,CACEO,YAAY,eACZvB,SAAUA,EACVC,WAAYA,IAEd,kBAAC,EAAD,CACEP,aAAcuB,EACd9B,aAAW,EACXC,WAAY,GAEZ,kBAAC,EAAD,CAAapB,SAAS,cAI1B,kBAAC+C,EAAD,KACE,kBAAC,EAAD,CACEQ,YAAY,eACZvB,SAAUA,EACVC,WAAYA,IAEb,kBAAC,EAAD,CACCP,aAAcuB,EACd9B,aAAW,EACXC,WAAY,GAEZ,kBAAC,EAAD,CAAapB,SAAS,e,2FCEjBwD,EAAyC,uCAAG,WAAOC,GAAP,iCAAAC,EAAA,+EAK7BC,MAAMF,GALuB,cAK/CG,EAL+C,OAMrDC,IAAUD,EAAUE,GAAX,iBAAyBF,EAAUG,SANS,SAO/BH,EAAUI,OAPqB,UAO/CC,EAP+C,OAQrDJ,KAAWI,EAAQC,MAAV,wBAA2BD,QAA3B,IAA2BA,GAA3B,UAA2BA,EAASC,aAApC,aAA2B,EAAgBC,UAC9CC,GACG,OAAPH,QAAO,IAAPA,GAAA,UAAAA,EAASI,gBAAT,eAAmBC,cA3GoB,GA6GnCC,EAZ+C,OAY/BN,QAZ+B,IAY/BA,OAZ+B,EAY/BA,EAASM,eAE3BH,IAAmBG,EAd8B,kCAe3BZ,MAAMF,EAAG,qBAAiBc,IAfC,eAe7CC,EAf6C,OAgBnDX,IAAUW,EAAUV,GAAX,iBAAyBU,EAAUT,SAhBO,UAiB7BS,EAAUR,OAjBmB,QAiB7CS,EAjB6C,OAkBnDZ,KAAWY,EAAQP,MAAV,wBAA2BO,QAA3B,IAA2BA,GAA3B,UAA2BA,EAASP,aAApC,aAA2B,EAAgBC,WACpD,EAAAF,EAAQS,OAAMtB,KAAd,oBAAsBqB,EAAQC,QAnBqB,iCAuB9CT,GAvB8C,kCAyBrDU,QAAQT,MAAR,MACAU,IAAKC,KAAK,CACRC,KAAM,QACNC,UAAW,2BACXC,KAAM,KAAIb,UA7ByC,iCAgChD,MAhCgD,0DAAH,sDA+CzCc,EAAqB,uCAAG,WAAOxB,GAAP,mBAAAC,EAAA,+EAGXC,MAAMF,GAHK,cAG7ByB,EAH6B,OAInCrB,IAAUqB,EAAUpB,GAAX,iBAAyBoB,EAAUnB,SAJT,SAKbmB,EAAUlB,OALG,cAK7BmB,EAL6B,OAMnCtB,KAAWsB,EAAQjB,MAAV,wBAA2BiB,QAA3B,IAA2BA,GAA3B,UAA2BA,EAASjB,aAApC,aAA2B,EAAgBC,UACpDQ,QAAQS,IAAI,UAAWD,GAPY,kBAQ5BA,GAR4B,kCAUnCP,IAAKC,KAAK,CACRC,KAAM,QACNC,UAAW,2BACXC,KAAM,KAAIb,UAbuB,iCAgB9B,MAhB8B,0DAAH,sD,2MCnIlC,IAiBMkB,EAAgCzE,IAAO0E,QAAV,KAyEpBC,UAjEf,WAAqB,IAAD,ED1B0CC,EC0B1C,EACuEC,qBAAWC,KAA5FzD,EADU,EACVA,WAAY0D,EADF,EACEA,cAAeC,EADjB,EACiBA,uBAAwBC,EADzC,EACyCA,0BADzC,EAEMC,aD5BoCN,EC6BZvD,GDxB1C,+DAAN,OAAsEuD,EAAtE,oDAjB2C,GAiB3C,gBAA6JO,2CAFpJ,KC2BPvC,EACA,CAAEwC,mBAAmB,IAHfC,EAFU,EAEVA,KASFC,GAXY,EAEJhC,MAKA,OAAG+B,QAAH,IAAGA,OAAH,EAAGA,EAAM5B,SAIL,iBAAG4B,QAAH,IAAGA,OAAH,EAAGA,EAAMvB,aAAT,QAAkB,IAC9ByB,EAAmBD,EAAaE,OAZpB,EAaqBC,YACrCT,EAvCiB,IAyBD,mBAaXU,EAbW,KAaCC,EAbD,KAiBZC,EACJN,EAAaE,OAAS,EAClBF,EAAaO,MAAMH,EAAYC,GAC/B,GApBY,EAyBdT,YDsEyC,SAACpB,GAC9C,IAAIA,GAA2B,KAAb,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAO0B,QAClB,OAAO,KAET,IApHAM,EAoHMC,EAnDiD,SAACjC,GACxD,OAAOA,EAAMkC,QAAO,SAACC,EAAKC,GAAU,IAAD,EACjC,cAAGA,QAAH,IAAGA,GAAH,UAAGA,EAAMC,UAAT,aAAG,EAAUC,SACXH,GAAG,UAAOC,EAAKC,GAAGC,QAAf,KAGEH,IACN,IA4CeI,CAA0CvC,GACtDwC,EAAkBP,EAAUQ,UAAU,EAAGR,EAAUP,OAAQ,GAEjE,OAvHAM,EAsHuEQ,GAjHjE,uEAAN,OAA8ER,EAA9E,gBAA6GX,2CAFpG,KCwCPqB,CAAgCZ,GAChCvB,EACA,CAAEe,mBAAmB,IALfqB,EAvBU,EAuBhBpB,KAvBgB,EAwBhB/B,MAOEmD,GAEFb,EAAYc,SAAQ,SAACC,EAAGC,GAAS,IAAD,IAC9BD,EAAEE,SAAF,OACEJ,QADF,IACEA,GADF,UACEA,EAA4B3C,MAAM8C,UADpC,iBACE,EAAwCE,sBAD1C,aACE,EAAwDD,YAI9D,IAIME,EAAmBC,uBAAY,SAACC,EAAOC,GAC3CjC,EAA0BiC,GAC1BC,OAAOC,SAAS,EAAG,KAClB,IAEH,OACE,8BACE,kBAAC,EAAD,CAAwBhG,SAXX,SAACiG,GAChBtC,GAAc,SAAC7D,GAAD,OAAUmG,EAAOC,aAUejG,WAAYA,IACxD,kBAACoD,EAAD,KACE,kBAAC8C,EAAA,EAAD,KACG3B,EAAY4B,KAAI,SAACC,GAAD,OACf,kBAACC,EAAA,EAAD,CAAeC,IAAKF,EAAKtB,GAAGC,QAASqB,KAAMA,SA7E7B,SAAClC,EAAkBqC,EAAYb,EAAkBc,GACzE,GAAItC,EAAmB,EAAG,CACxB,IAAMuC,EAAaC,YAAexC,EAAkBqC,GACpD,OACE,kBAACI,EAAA,EAAD,CACEH,QAASA,EACTC,WAAYA,EACZG,YATa,GAUbC,aAAcnB,IAIpB,OAAO,KAqEFoB,CAAkB5C,EAnFJ,GAmFoCwB,EAAkB/B,M,gCCpG3E,oRAKaoD,EAA4B,SAACC,GACxC,IAAMC,EAAqBnB,OAAOoB,aAAaC,QAHR,oBAMjCC,EAAmBH,GAAsBI,KAAKC,MAAML,GAE1D,OADYG,GAAoBA,EAAiBJ,IAItCO,EAAiB,WAC5B,IAAMN,EAAqBnB,OAAOoB,aAAaC,QAZR,oBAgBvC,OADyBF,GAAsBI,KAAKC,MAAML,IAK/CO,EAAmB,SAAC1C,EAAIsB,GACnC,IACoCN,OAAOoB,aAAaC,QAtBjB,qBA0BnCrB,OAAOoB,aAAaO,QA1Be,mBA4BjCJ,KAAKK,UAAUC,OAAOC,OAAO,QAGjC,IAAMC,EAAiBR,KAAKC,MAC1BxB,OAAOoB,aAAaC,QAhCe,qBAwCrC,OANAU,EAAe/C,GAAMsB,EAErBN,OAAOoB,aAAaO,QApCiB,mBAsCnCJ,KAAKK,UAAUG,KAEV,EACP,MAAOC,GAOP,OANApF,QAAQT,MAAM,kCAAmC6F,GACjDnF,IAAKC,KAAK,CACRC,KAAM,QACNC,UAAW,yDACXC,KAAM+E,EAAI5F,WAEL,IAIE6F,EAA6B,SAACjD,GAKzC,GAJkCgB,OAAOoB,aAAaC,QArDf,oBAyDvC,CAQA,IAAMU,EAAiBR,KAAKC,MAC1BxB,OAAOoB,aAAaC,QAlEiB,qBAqEvC,IAOE,cANOU,EAAe/C,GAEtBgB,OAAOoB,aAAaO,QAxEiB,mBA0EnCJ,KAAKK,UAAUG,KAEV,EACP,MAAOC,GAOP,OANApF,QAAQT,MAAM,uCAAwC6F,GACtDnF,IAAKC,KAAK,CACRC,KAAM,QACNC,UAAW,yDACXC,KAAM+E,EAAI5F,WAEL,QA1BPS,IAAKC,KAAK,CACRC,KAAM,QACNC,UAAW,eACXC,KAAM,0CA2BC2D,EAAiB,SAACsB,EAAoBzB,GACjD,IAAM0B,EAAQC,KAAKC,MAAMH,EAAqBzB,GAC9C,OAAOyB,EAAqBzB,EAAa,EAAI0B,EAAQ,EAAIA,GAG9C7D,EAAkB,SAACoC,EAAS4B,GACvC,IAAM9D,EAAmBkC,EAAU4B,EAGnC,MAAO,CAFY9D,EAAmB8D,EAElB9D,IAIT+D,EAA8B,SAACC,GAC1C,IAAIA,EACF,MAAO,mDAET,IAAM9C,EAAW+C,IAAO/C,SAAS8C,GAC3BE,EAAShD,EAASiD,QAClBC,EAAWlD,EAASmD,UACpBC,EAAWpD,EAASqD,UACzB,MAAM,GAAN,OAAUC,OAAON,GAAUA,EAAO,SAAM,GAAxC,YAA8CM,OAAOJ,GAAYA,EAAS,SAAM,GAAhF,YAAsFI,OAAOF,GAAYA,EAAS,SAAK,M,qGC7GnH,SAASvH,IAAgD,IAAvB0H,EAAsB,uDAAJ,GAAI,EAErBrJ,oBAAS,GAFY,mBAEtDsJ,EAFsD,KAExCC,EAFwC,KAGvDC,EAAkBC,kBAAO,GACzBC,EAAuBD,iBAAO,GAE9BE,EAAkB,WACtB,IAAMC,EAAexD,OAAOyD,YAE5B7G,QAAQS,IAAI,qCAAsCmG,EAAcF,EAAqBI,SAEjFF,EAAeF,EAAqBI,UAAYN,EAAgBM,SAAWJ,EAAqBI,QAAU,GAC5GN,EAAgBM,SAAWN,EAAgBM,QAC3CP,GAAgB,IACPK,EAAeF,EAAqBI,SAAWN,EAAgBM,UACxEN,EAAgBM,SAAWN,EAAgBM,QAC3CP,GAAgB,IAGff,KAAKuB,IAAIH,EAAeF,EAAqBI,UAAYT,IAEzDK,EAAqBI,QAAUF,IAK9BI,EAA0BC,IAAUN,EAAiB,KAS3D,OAPAO,qBAAU,WAER,OADA9D,OAAO+D,iBAAiB,SAAUH,GAC3B,WACL5D,OAAOgE,oBAAoB,SAAUJ,MAEtC,IAEIV,I,oTClCT,IAAMe,E,MAAkBpL,EAAO0E,QAAV,KAiBN6C,IANf,YAAyC,IAAb1G,EAAY,EAAZA,SAC1B,OAAO,kBAACuK,EAAD,KAAkBvK,K,iqCCV3B,IAAMwK,EAAgBpJ,YAAH,KAUbqJ,EAAkBrJ,YAAH,KAUfsJ,EAAoBvL,IAAOC,IAAV,IAYJoL,GAIbG,EAAwBxL,IAAOC,IAAV,IAYRqL,GAIJ,SAASG,EAAT,GAAyF,IAA7D3D,EAA4D,EAA5DA,WAAYG,EAAgD,EAAhDA,YAAwBC,GAAwB,EAAnCwD,UAAmC,EAAxBxD,cAAcL,EAAU,EAAVA,QAG3F,OADqBnF,cAEnB,kBAAC8I,EAAD,KACE,kBAAC,IAAD,CAAYG,MAAO7D,EAAY8D,SAAU1D,EAAc2D,KAAMhE,EAASiE,QAAQ,WAAWC,MAAM,UAAU9D,YAAaA,KAGxH,kBAACsD,EAAD,KACE,kBAAC,IAAD,CAAYI,MAAO7D,EAAY8D,SAAU1D,EAAc2D,KAAMhE,EAASiE,QAAQ,WAAWC,MAAM,UAAU9D,YAAaA,O,wtBCxD5H,IAAM+D,EAA4BhM,IAAO0E,QAAV,KAazBuH,EAAwBjM,IAAOC,IAAV,KAUrBiM,EAAkBlM,IAAOC,IAAV,KAiDNkM,MAzCf,YAAiF,IAAnDC,EAAkD,EAAlDA,aAAcC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,uBAC9CC,EAAiB,UAAMF,EAASlG,GAAGqG,KAAlB,YAA0BH,EAASlG,GAAGC,SAAWiG,EAASlG,GAAGsG,WAC9EnK,EAAUC,cAEVmK,EAAqBtE,YAA0BmE,GAJyB,EAMlCxL,mBAAS2L,GANyB,mBAMvEC,EANuE,KAMvDC,EANuD,KAuB9E,OACE,kBAACZ,EAAD,CAA2BI,aAAcA,GACtCO,EACC,kBAACV,EAAD,CAAuBhL,QAlBF,WACVmI,YAA2BmD,KAExCK,GAAkB,GACfN,GACDA,OAaA,4BAIA,kBAACL,EAAD,CAAuBhL,QAbH,WACT4H,YAAiB0D,EAAmBF,IAEjDO,GAAkB,KAUhB,4BAIF,kBAACV,EAAD,CAAiBjL,QAAS,WAAOqB,EAAQE,KAAK,UAAW,CAAC6J,eAA1D,8B,oUC1EC,IAAMQ,EAAmB7M,IAAO8M,QAAV,K,8FCK7B,IAAMC,EAA6B/M,IAAO0E,QAAV,KA6CjBgD,IAzCf,YAA0D,IAAjCD,EAAgC,EAAhCA,KAAM6E,EAA0B,EAA1BA,uBAA0B,EACfvL,oBAAS,GADM,mBAChDiM,EADgD,KAClCC,EADkC,KAgBvD,OACE,kBAACJ,EAAD,KACE,kBAACE,EAAD,CAA4B9L,QAPV,SAACiM,GACrBD,GAAgB,SAAA/L,GAAI,OAAKA,MAM6BiM,aAf7B,SAACD,GAC1BD,GAAgB,KAeXD,GACC,kBAAC,EAAD,CACEZ,aAdiB,SAACc,GAC1BD,GAAgB,IAcRZ,SAAU5E,EACV6E,uBAAwBA,IAG5B,yBAAKc,UAAU,cACb,yBAAKC,IAAK5F,EAAK6F,QAAQC,WAAWC,OAAO3K,IAAK4K,IAAKhG,EAAKiG,UAG5D,wBAAIN,UAAU,SAAS3F,EAAK6F,QAAQI,OACpC,yBAAKN,UAAU,eAAe3F,EAAK6F,QAAQK,aAC3C,yBAAKP,UAAU,YACZ1D,YAA4BjC,EAAKZ","file":"static/js/8.12db5a70.chunk.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\n\nexport const HorizontalThreeDots = ({dotColor}) => (\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth=\"30\"\n\t\theight=\"30\"\n\t\tviewBox=\"0 0 30 30\"\n\t>\n\t\t<path\n\t\t\tfill={dotColor}\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M6.5 12C7.88 12 9 13.12 9 14.5S7.88 17 6.5 17 4 15.88 4 14.5 5.12 12 6.5 12zm8 0c1.38 0 2.5 1.12 2.5 2.5S15.88 17 14.5 17 12 15.88 12 14.5s1.12-2.5 2.5-2.5zm9 0c1.38 0 2.5 1.12 2.5 2.5S24.88 17 23.5 17 21 15.88 21 14.5s1.12-2.5 2.5-2.5z\"\n\t\t/>\n\t</svg>\n)\nHorizontalThreeDots.propTypes = {\n  dotColor: PropTypes.string,\n}\n\nHorizontalThreeDots.defaultProps = {\n  dotColor: '#FFF',\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { HorizontalThreeDots } from './icons'\n\n\n\nfunction NavMoreIcon({dotColor, ...rest}) {\n\treturn (\n\t\t<span {...rest}>\n\t\t\t<HorizontalThreeDots dotColor={dotColor} />\n\t\t</span>\n\t)\n}\n\nNavMoreIcon.propTypes = {\n  onClick: PropTypes.func,\n}\n\nexport default NavMoreIcon\n","import styled from 'styled-components'\n\nexport const WrapperToPositioned = styled.div`\n  position: relative;\n  z-index: 8000;\n`\n\nexport const PopoverWrapper = styled.div`\n\tposition: fixed;\n  transform: ${props => `translate3d(${props.top || 0}px, ${props.left || 0}px, 20px);`};\n  display: ${props => props.isShow ? 'block' : 'none'};\n\tright: ${props => (props.onRightEdge && '6px')};\n  transform: ${({offsetUpPX}) => `translate3d(0px, ${offsetUpPX ? `-${offsetUpPX}px` : '0px'}, 20px);`};\n`\n\nexport const PointUpTriangle = styled.div`\n  position: absolute;\n  top: -8px;\n  right: ${props => (props.onRightEdge && `7px`)};\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 0 7.5px 13.0px 7.5px;\n  border-color: ${props => `transparent transparent ${props.color || '#FFFFFF'} transparent;`};\n  /* right: ${props => (props.onRightEdge && `5px`)};\n  top: */\n`\n\nexport const TransparentWholeWindowLightBox = styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  left: 0px;\n  opacity: 0;\n  display: ${props => props.isShow ? 'block' : 'none'}\n`\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport {\n\tWrapperToPositioned,\n\tPopoverWrapper,\n\tPointUpTriangle,\n\tTransparentWholeWindowLightBox\n} from './styled'\n\nconst Popover = ({\n\tchildren,\n\tCompToRender,\n\tonRightEdge,\n\toffsetUpPX,\n\t...rest\n}) => {\n\tconst [isShow, setIsShow] = useState(false)\n\n\treturn (\n\t\t<>\n\t\t  {/* 為了在按到Popover有打開的時候，按到Popover以外的區域會把Popover關閉，必須要有這個跟Popover是sibling的Lightbox */}\n\t\t\t<TransparentWholeWindowLightBox\n\t\t\t\tisShow={isShow}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetIsShow(false)\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<WrapperToPositioned>\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetIsShow(prev => !prev)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t\t<PopoverWrapper\n\t\t\t\t\tisShow={isShow}\n\t\t\t\t\tonRightEdge={onRightEdge}\n\t\t\t\t\toffsetUpPX={offsetUpPX}\n\t\t\t\t\t{...rest}\n\t\t\t\t>\n\t\t\t\t\t<PointUpTriangle onRightEdge={onRightEdge} />\n\n\t\t\t\t\t<CompToRender />\n\t\t\t\t</PopoverWrapper>\n\t\t\t</WrapperToPositioned>\n\t\t</>\n\t)\n}\n\nPopover.propTypes = {}\n\nexport default Popover\n","import React from 'react'\nimport Input from '@material-ui/core/Input';\nimport { useForm } from \"react-hook-form\";\n\nfunction InputSearchBarForm({onSubmit, searchText}) {\n  const { handleSubmit, register, errors } = useForm();\n\n  \n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <Input  defaultValue={searchText} name=\"keywords\" inputRef={register({})} inputProps={{ 'aria-label': 'description', }} />\n      <button type=\"submit\">送出查詢</button>\n    </form>\n  )\n}\n\nInputSearchBarForm.propTypes = {\n\n}\n\nexport default InputSearchBarForm\n\n","import React from \"react\";\nimport NavMoreIcon from \"components/NavMoreIcon\";\nimport Popover from \"components/Popover\";\nimport InputSearchBarForm from \"./components/InputSearchBarForm\";\nimport styled, { keyframes } from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport { useGetNowScrollDirection } from \"hooks/useGetNowScrollDirection\";\n\nconst TopClimbUp = keyframes`\n  from {\n    transform: translateY(0px); \n  }\n\n  to {\n    transform: translateY(-36px);\n  }\n`;\n\nconst topSlideDown = keyframes`\n  from {\n    transform: translateY(-34px); \n  }\n\n  to {\n    transform: translateY(0px);\n  }\n`;\n\nconst TopBarHeaderWrapper = styled.div`\n  width: 100vw;\n  display: flex;\n  padding: 3px 0px;\n  justify-content: center;\n  z-index: 5;\n  @media (max-width: 740px) {\n    background: #ffffff;\n    position: fixed;\n    top: 0px;\n    animation: ${topSlideDown} 0.5s linear forwards;\n  }\n`;\n\nconst HideTopBarHeaderWrapper = styled.div`\n  width: 100vw;\n  display: flex;\n  padding: 3px 0px;\n  justify-content: center;\n  z-index: 5;\n  @media (max-width: 740px) {\n    background: #ffffff;\n    position: fixed;\n    top: 0px;\n    animation: ${TopClimbUp} 0.5s linear forwards;\n  }\n`;\n\nconst PopOverContent = () => {\n  const history = useHistory();\n  return (\n    <button\n      onClick={() => {\n        history.push(\"/collections\");\n      }}\n    >\n      to收藏頁\n    </button>\n  );\n};\n\nfunction HideableOnScrollHeader({ onSubmit, searchText }) {\n  const isScrollDown = useGetNowScrollDirection();\n\n  return isScrollDown ? (\n    <HideTopBarHeaderWrapper>\n      <InputSearchBarForm\n        placeholder=\"搜尋\"\n        onSubmit={onSubmit}\n        searchText={searchText}\n      />\n      <Popover\n        CompToRender={PopOverContent}\n        onRightEdge\n        offsetUpPX={4}\n      >\n        <NavMoreIcon dotColor=\"#808080\" />\n      </Popover>\n    </HideTopBarHeaderWrapper>\n  ) : (\n    <TopBarHeaderWrapper>\n      <InputSearchBarForm\n        placeholder=\"搜尋\"\n        onSubmit={onSubmit}\n        searchText={searchText}\n      />\n       <Popover\n        CompToRender={PopOverContent}\n        onRightEdge\n        offsetUpPX={4}\n      >\n        <NavMoreIcon dotColor=\"#808080\" />\n      </Popover>\n    </TopBarHeaderWrapper>\n  );\n}\n\nHideableOnScrollHeader.propTypes = {};\n\nexport default HideableOnScrollHeader;\n","import swal from \"sweetalert2\";\nimport invariant from 'invariant'\nimport { RDOFakeData } from './fakeData'\n\nconst ONE_TIME_FETCH_YOUTUBE_API_THRESHOLD = 50;\n\nexport const getYOUTUBE_DATA_V3_SEARCH_URL = (\n  searchKeyWords,\n  oneTimeFetchItemCount = 12\n) => {\n  if (!searchKeyWords) {\n    return null;\n  }\n  return `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${searchKeyWords}&chart=mostPopular&type=video&maxResults=${oneTimeFetchItemCount}&key=${process.env.REACT_APP_YOUTUBE_API_TOKEN}`;\n};\n\nexport const getYOUTUBE_DATA_V3_SEARCH_URL_MAXROW_PERFETCH = (searchKeyWords) => {\n  const oneTimeFetchItemCount = ONE_TIME_FETCH_YOUTUBE_API_THRESHOLD;\n  if (!searchKeyWords) {\n    return null;\n  }\n  return `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${searchKeyWords}&chart=mostPopular&type=video&maxResults=${oneTimeFetchItemCount}&key=${process.env.REACT_APP_YOUTUBE_API_TOKEN}`;\n};\n\nexport const getYOUTUBE_DATA_V3_VIDEOS_URL = (\n  commaSeperatedIDsString\n) => {\n  if(!commaSeperatedIDsString){\n    return null\n  }\n  return `https://www.googleapis.com/youtube/v3/videos?part=contentDetails&id=${commaSeperatedIDsString}&key=${process.env.REACT_APP_YOUTUBE_API_TOKEN}`;\n};\n\nexport const youtube_query = (searchKeyWords) => {\n  const url = getYOUTUBE_DATA_V3_SEARCH_URL(\n    searchKeyWords,\n    process.env.REACT_APP_YOUTUBE_API_TOKEN\n  );\n  return fetch(url)\n    .then((response) => {\n      return response.json();\n    })\n    .then((result) => {\n      console.log(result);\n      if (result.error) {\n        swal.fire({\n          icon: \"error\",\n          titleText: \"發生錯誤\",\n          text: `code:${result.error.code}`,\n        });\n      } else {\n        return result;\n      }\n    })\n    .catch((err) => {\n      swal.fire({\n        icon: \"error\",\n        titleText: \"網路連線發生錯誤\",\n        text: err.message,\n      });\n    });\n};\n\nexport const youtube_querySWRFetcher = (url) => {\n  return fetch(url)\n    .then((response) => {\n      return response.json();\n    })\n    .then((result) => {\n      console.log(result);\n      if (result.error) {\n        swal.fire({\n          icon: \"error\",\n          titleText: \"發生錯誤\",\n          text: `code:${result.error.code}`,\n        });\n      } else {\n        return result;\n      }\n    })\n    .catch((err) => {\n      console.error(err)\n      swal.fire({\n        icon: \"error\",\n        titleText: \"網路連線發生錯誤\",\n        text: err.message,\n      });\n    });\n};\n\nexport const getCommasSeperatedIDsStringFromVideoItems = (items) => {\n  return items.reduce((acc, curr) => {\n    if(curr?.id?.videoId) {\n      acc += `${curr.id.videoId},`\n      return acc\n    }\n    return acc\n  }, '')\n\n}\n\nexport const youtube_querySWRFetcher_Fetch100CountData = async (url) => {\n\n // return RDOFakeData;\n\n  try {\n    const response1 = await fetch(url);\n    invariant(response1.ok, `error: ${response1.status}`)\n    const result1 = await response1.json();\n    invariant(!result1.error, `error: ${result1?.error?.message}`)\n    const shouldFetchMore =\n      result1?.pageInfo?.totalResults > ONE_TIME_FETCH_YOUTUBE_API_THRESHOLD;\n\n    const nextPageToken = result1?.nextPageToken;\n\n    if (shouldFetchMore && nextPageToken) {\n      const response2 = await fetch(url + `&pageToken=${nextPageToken}`);\n      invariant(response2.ok, `error: ${response2.status}`)\n      const result2 = await response2.json();\n      invariant(!result2.error, `error: ${result2?.error?.message}`)\n      result1.items.push(...result2.items);\n\n    }\n\n    return result1;\n  } catch (err) {\n    console.error(err)\n    swal.fire({\n      icon: \"error\",\n      titleText: \"發生錯誤\",\n      text: err.message,\n    });\n  }\n  return null;\n};\n\n\nexport const getVideoContentDetailFechingURL = (items) => {\n  if(!items || items?.length === 0) {\n    return null\n  }\n  const IDsString = getCommasSeperatedIDsStringFromVideoItems(items)\n  const removeLastComma = IDsString.substring(0, IDsString.length -1)\n  const getVideosContenDetailResourceURL = getYOUTUBE_DATA_V3_VIDEOS_URL(removeLastComma)\n  return getVideosContenDetailResourceURL\n}\n\n// 一頁items 12筆\nexport const fetchVideodetailByIds = async (url) => {\n\n  try{\n  const response3 = await fetch(url)\n  invariant(response3.ok, `error: ${response3.status}`)\n  const result3 = await response3.json();\n  invariant(!result3.error, `error: ${result3?.error?.message}`)\n  console.log('result3', result3)\n  return result3\n} catch(err) {\n  swal.fire({\n    icon: \"error\",\n    titleText: \"發生錯誤\",\n    text: err.message,\n  });\n}\nreturn null\n}\n","import React, { useState, useContext, useCallback, memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport HideableOnScrollHeader from \"./HideableOnScrollHeader\";\nimport VideoCardsLayout from \"./components/VideoCardsLayout\";\nimport VideoCardItem from \"./components/VideoCardItem\";\nimport Paginations from \"./components/Paginations\";\nimport {\n  getYOUTUBE_DATA_V3_SEARCH_URL_MAXROW_PERFETCH,\n  youtube_querySWRFetcher_Fetch100CountData,\n  getVideoContentDetailFechingURL,\n  fetchVideodetailByIds,\n} from \"apis\";\nimport useSWR from \"swr\";\nimport { AppEasyContext } from \"App\";\nimport styled from \"styled-components\";\nimport { countPageCount, countSliceIndex } from \"logics\";\n\nconst ROW_PER_PAGE = 12;\n\nconst renderPaginations = (bunchResultCount, rowPerPage, handleChangePage, nowPage) => {\n  if (bunchResultCount > 0) {\n    const pagesCount = countPageCount(bunchResultCount, rowPerPage);\n    return (\n      <Paginations\n        nowPage={nowPage}\n        pagesCount={pagesCount}\n        rowsPerPage={ROW_PER_PAGE}\n        onChangePage={handleChangePage}\n      />\n    );\n  }\n  return null;\n};\n\nconst VideosCenterPositionedWrapper = styled.section`\n  display: flex;\n  justify-content: center;\n  width: 100vw;\n  margin-top: 32px;\n  margin-bottom: 38px;\n`;\n\nfunction MainPage() {\n  const { searchText, setSearchText, mainPageCurrPageNumber, setMainPageCurrPageNumber } = useContext(AppEasyContext);\n  const { data, error } = useSWR(\n    getYOUTUBE_DATA_V3_SEARCH_URL_MAXROW_PERFETCH(searchText),\n    youtube_querySWRFetcher_Fetch100CountData,\n    { revalidateOnFocus: false }\n  );\n  const pageInfo = data?.pageInfo ?? {\n    totalResults: 0,\n  };\n\n  const bunchResults = data?.items ?? [];\n  const bunchResultCount = bunchResults.length;\n  const [startIndex, lastPlusOneIndex] = countSliceIndex(\n    mainPageCurrPageNumber,\n    ROW_PER_PAGE\n  );\n  const partialData =\n    bunchResults.length > 0\n      ? bunchResults.slice(startIndex, lastPlusOneIndex)\n      : [];\n\n  const {\n    data: partitalContentDdetailData,\n    error: error2,\n  } = useSWR(\n    getVideoContentDetailFechingURL(partialData),\n    fetchVideodetailByIds,\n    { revalidateOnFocus: false }\n  );\n\n  if (partitalContentDdetailData) {\n    // merge the data\n    partialData.forEach((p, idx) => {\n      p.duration =\n        partitalContentDdetailData?.items[idx]?.contentDetails?.duration;\n    });\n  }\n\n  const onSubmit = (values) => {\n    setSearchText((prev) => values.keywords);\n  };\n\n  const handleChangePage = useCallback((event, newPage) => {\n    setMainPageCurrPageNumber(newPage);\n    window.scrollTo(0, 0)  // 換頁後，回到頁面最上面   mobileWeb上的換頁會需要   無限下拉的情境的話不需要這樣\n  }, []);\n\n  return (\n    <main>\n      <HideableOnScrollHeader onSubmit={onSubmit} searchText={searchText} />\n      <VideosCenterPositionedWrapper>\n        <VideoCardsLayout>\n          {partialData.map((item) => (\n            <VideoCardItem key={item.id.videoId} item={item} />\n          ))}\n        </VideoCardsLayout>\n      </VideosCenterPositionedWrapper>\n      {renderPaginations(bunchResultCount, ROW_PER_PAGE, handleChangePage, mainPageCurrPageNumber) }\n    </main>\n  );\n}\n\nMainPage.propTypes = {};\n\nexport default MainPage;\n","import swal from \"sweetalert2\";\nimport moment from 'moment'\n\nconst COLLECTIONs_KEY_IN_LOCAL_STORAGE = \"videoCollections\";\n\nexport const checkIsAddedInCollections = (itemId) => {\n  const collectionsLiteral = window.localStorage.getItem(\n    COLLECTIONs_KEY_IN_LOCAL_STORAGE\n  );\n  const videoCollections = collectionsLiteral && JSON.parse(collectionsLiteral)\n  const has = videoCollections && videoCollections[itemId];\n  return has;\n};\n\nexport const getCollections = () => {\n  const collectionsLiteral = window.localStorage.getItem(\n    COLLECTIONs_KEY_IN_LOCAL_STORAGE\n  );\n  const videoCollections = collectionsLiteral && JSON.parse(collectionsLiteral)\n  return videoCollections  // object\n};\n\n\nexport const addToCollections = (id, item) => {\n  try {\n    const _testIsCollectionsObjExit = window.localStorage.getItem(\n      COLLECTIONs_KEY_IN_LOCAL_STORAGE\n    );\n    if (!_testIsCollectionsObjExit) {\n      window.localStorage.setItem(\n        COLLECTIONs_KEY_IN_LOCAL_STORAGE,\n        JSON.stringify(Object.create(null))\n      );\n    }\n    const collectionsObj = JSON.parse(\n      window.localStorage.getItem(COLLECTIONs_KEY_IN_LOCAL_STORAGE)\n    );\n    collectionsObj[id] = item;\n\n    window.localStorage.setItem(\n      COLLECTIONs_KEY_IN_LOCAL_STORAGE,\n      JSON.stringify(collectionsObj)\n    );\n    return true;\n  } catch (err) {\n    console.error(\"add video to collections error:\", err);\n    swal.fire({\n      icon: \"error\",\n      titleText: \"添加收藏時發生錯誤\",\n      text: err.message,\n    });\n    return false;\n  }\n};\n\nexport const removeVideoFromCollections = (id) => {\n  const _testIsCollectionsObjExit = window.localStorage.getItem(\n    COLLECTIONs_KEY_IN_LOCAL_STORAGE\n  );\n  // edge case\n  if (!_testIsCollectionsObjExit) {\n    swal.fire({\n      icon: \"error\",\n      titleText: \"錯誤\",\n      text: \"目前沒有收藏\",\n    });\n    return;\n  }\n  const collectionsObj = JSON.parse(\n    window.localStorage.getItem(COLLECTIONs_KEY_IN_LOCAL_STORAGE)\n  );\n\n  try {\n    delete collectionsObj[id];\n\n    window.localStorage.setItem(\n      COLLECTIONs_KEY_IN_LOCAL_STORAGE,\n      JSON.stringify(collectionsObj)\n    );\n    return true;\n  } catch (err) {\n    console.error(\"remove video from collections error:\", err);\n    swal.fire({\n      icon: \"error\",\n      titleText: \"移除收藏時發生錯誤\",\n      text: err.message,\n    });\n    return false;\n  }\n};\n\nexport const countPageCount = (nowBounchDataCount, rowPerPage) => {\n  const pages = Math.floor(nowBounchDataCount / rowPerPage);\n  return nowBounchDataCount % rowPerPage > 0 ? pages + 1 : pages;\n};\n\nexport const countSliceIndex = (nowPage, countPerPage) => {\n  const lastPlusOneIndex = nowPage * countPerPage;\n  const startIndex = lastPlusOneIndex - countPerPage;\n\n  return [startIndex, lastPlusOneIndex];\n};\n\n\nexport const parseISO8601DurationToTimes = (durationText) => {\n  if(!durationText) {\n    return '無法取得影片長度'\n  }\n  const duration = moment.duration(durationText)\n  const _hours = duration.hours()\n  const _minutes = duration.minutes()\n  const _seconds = duration.seconds()\n   return `${Number(_hours) ? _hours+'時' : ''} ${Number(_minutes) ? _minutes+'分' : ''} ${Number(_seconds) ? _seconds+'秒': ''}`\n\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport _throttle from 'lodash.throttle';\n\nexport function useGetNowScrollDirection(thresholdHeight = 30) {\n\n  const [isScrollDown, setIsScrollDown] = useState(false); // true 往下,  false 往上\n  const isScrollDownRef = useRef(false); // true 往下,  false 往上\n  const previousScrollTopRef = useRef(0);\n\n  const _handleOnScroll = () => {\n    const nowScrollTop = window.pageYOffset;\n    // !isScrollDownRef.current  是true的話代表滑動方向改變\n    console.log(\"nowScrollTop, previousScrollTopRef\", nowScrollTop, previousScrollTopRef.current)\n    // 用力拉到最上面的時候 previousScrollTopRef.current 會是負的 然後再稍微彈回來\n    if (nowScrollTop > previousScrollTopRef.current && !isScrollDownRef.current && previousScrollTopRef.current > 0) {\n      isScrollDownRef.current = !isScrollDownRef.current \n      setIsScrollDown(true);\n    } else if (nowScrollTop < previousScrollTopRef.current && isScrollDownRef.current) {\n      isScrollDownRef.current = !isScrollDownRef.current\n      setIsScrollDown(false);\n    }\n    if (\n       Math.abs(nowScrollTop - previousScrollTopRef.current) >= thresholdHeight\n    ) {\n       previousScrollTopRef.current = nowScrollTop;\n    }\n\n  };\n\n  const throttledHandleONScroll = _throttle(_handleOnScroll, 500)\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", throttledHandleONScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", throttledHandleONScroll);\n    };\n  }, []);\n\n  return isScrollDown;\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\nconst FlexVideoLayout = styled.section`\n  display: flex;\n  width: 90vw;\n  flex-wrap: wrap;\n  justify-content: space-between;\n\n  @media (max-width: 740px) {\n    justify-content: center; /** make one row */\n  }\n`;\n\nfunction VideoCardsLayout({ children }) {\n  return <FlexVideoLayout>{children}</FlexVideoLayout>;\n}\n\nVideoCardsLayout.propTypes = {};\n\nexport default VideoCardsLayout;\n","import React from 'react';\nimport Pagination from '@material-ui/lab/Pagination';\nimport styled, { keyframes } from 'styled-components'\nimport { useGetNowScrollDirection } from 'hooks/useGetNowScrollDirection'\n\n\nconst bottomClimbUp = keyframes`\n  from {\n    transform: translateY(34px); \n  }\n\n  to {\n    transform: translateY(0px);\n  }\n`\n\nconst bottomSlideDown = keyframes`\n  from {\n    transform: translateY(0px); \n  }\n\n  to {\n    transform: translateY(34px);\n  }\n`\n\nconst PaginationWrapper = styled.div`\n    width: 100vw;\n    display: flex;\n    padding: 3px 0px;\n    justify-content: center;\n    & > *: {\n      marginTop: .2rem,\n    }\n    @media(max-width: 740px) {\n      background: #FFFFFF;\n      position: fixed;\n      bottom: 0px;\n      animation: ${bottomClimbUp} .5s linear forwards;\n    }\n`\n\nconst HidePaginationWrapper = styled.div`\n    width: 100vw;\n    display: flex;\n    padding: 3px 0px;\n    justify-content: center;\n    & > *: {\n      marginTop: .2rem,\n    }\n    @media(max-width: 740px) {\n      background: #FFFFFF;\n      position: fixed;\n      bottom: -34px;\n      animation: ${bottomSlideDown} .5s linear forwards;\n    }\n`\n\nexport default function PaginationRounded({pagesCount, rowsPerPage, totalPage, onChangePage, nowPage}) {\n  // const classes = useStyles();\n  const isScrollDown = useGetNowScrollDirection()\n  return isScrollDown ? (\n    <HidePaginationWrapper>\n      <Pagination count={pagesCount} onChange={onChangePage} page={nowPage} variant=\"outlined\" shape=\"rounded\" rowsPerPage={rowsPerPage}/>\n    </HidePaginationWrapper>\n  ) : (\n    <PaginationWrapper>\n      <Pagination count={pagesCount} onChange={onChangePage} page={nowPage} variant=\"outlined\" shape=\"rounded\" rowsPerPage={rowsPerPage}/>\n    </PaginationWrapper>\n  );\n}","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\n\nimport {\n  checkIsAddedInCollections,\n  addToCollections,\n  removeVideoFromCollections,\n} from \"logics\";\n\nconst MoreFunctionShieldWrapper = styled.section`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n  background: rgba(0, 0, 0, 0.4);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst AddToCollectionButton = styled.div`\n  padding: 2px;\n  color: #FFFFFF;\n  background: #008008;\n  border-radius: 5px;\n  margin-right: 4px;\n  cursor:pointer;\n`;\n\n\nconst PlayVideoButton = styled.div`\n  padding: 2px;\n  color: #FFFFFF;\n  background: #6699FF;\n  border-radius: 5px;\n  cursor:pointer;\n`;\n\nfunction MoreFunctionShield({ onMouseLeave, itemData, onCancelCollectionDone }) {\n  const collectionVideoId = `${itemData.id.kind}.${itemData.id.videoId || itemData.id.channelId}`;\n  const history = useHistory();\n\n  const isExitinCollection = checkIsAddedInCollections(collectionVideoId);\n\n  const [isInCollection, setIsInCollection] = useState(isExitinCollection);\n\n  const onCancelCollection = () => {\n    const result = removeVideoFromCollections(collectionVideoId);\n    if (result) {\n      setIsInCollection(false);\n      if(onCancelCollectionDone) {\n        onCancelCollectionDone()\n      }\n    }\n  };\n  const onAddToCollection = () => {\n    const result = addToCollections(collectionVideoId, itemData);\n    if (result) {\n      setIsInCollection(true);\n    }\n  };\n  return (\n    <MoreFunctionShieldWrapper onMouseLeave={onMouseLeave}>\n      {isInCollection ? (\n        <AddToCollectionButton onClick={onCancelCollection}>\n          取消收藏\n        </AddToCollectionButton>\n      ) : (\n        <AddToCollectionButton onClick={onAddToCollection}>\n          加入收藏\n        </AddToCollectionButton>\n      )}\n      <PlayVideoButton onClick={() => {history.push('/player', {itemData})}}>播放影片</PlayVideoButton>\n    </MoreFunctionShieldWrapper>\n  );\n}\n\nMoreFunctionShield.propTypes = {};\n\nexport default MoreFunctionShield;\n","import styled from 'styled-components'\n\nexport const VideoCardWrapper = styled.article`\n  margin: 0.4rem;\n  width: 320px;\n  word-wrap: break-word;\n  .imgWrapper {\n    display: flex;\n    justify-content: center;\n  } \n\n  .title {\n    margin-bottom: .3rem;\n  }\n\n  .description{\n    margin-bottom: .3rem;\n  }\n\n  .duration{\n  }\n`;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\nimport MoreFunctionShield from \"./MoreFunctionShield\";\nimport { VideoCardWrapper } from \"./styled\";\nimport { parseISO8601DurationToTimes } from \"logics\";\n\nconst FunctionalVideoCardWrapper = styled.section`\n  position: relative;\n`;\n\nfunction VideoCardItem({ item, onCancelCollectionDone }) {\n  const [isShowShield, setIsShowShield] = useState(false);\n\n  const handleOnMouseEnter = (evt) => {\n    setIsShowShield(true);\n  };\n\n  const handleOnMouseLeave = (evt) => {\n    setIsShowShield(false);\n  };\n\n  const handleOnClick = (evt) => {\n    setIsShowShield(prev => !prev);\n  };\n\n\n  return (\n    <VideoCardWrapper>\n      <FunctionalVideoCardWrapper onClick={handleOnClick} onMouseEnter={handleOnMouseEnter}>\n        {isShowShield && (\n          <MoreFunctionShield\n            onMouseLeave={handleOnMouseLeave}\n            itemData={item}\n            onCancelCollectionDone={onCancelCollectionDone}\n          />\n        )}\n        <div className=\"imgWrapper\">\n          <img src={item.snippet.thumbnails.medium.url} alt={item.title} />\n        </div>\n      </FunctionalVideoCardWrapper>\n      <h3 className=\"title\">{item.snippet.title}</h3>\n      <div className=\"description\">{item.snippet.description}</div>\n      <div className=\"duration\">\n        {parseISO8601DurationToTimes(item.duration)}\n      </div>\n    </VideoCardWrapper>\n  );\n}\n\nVideoCardItem.propTypes = {};\n\nexport default VideoCardItem;\n"],"sourceRoot":""}