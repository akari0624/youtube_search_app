{"version":3,"sources":["pages/Collections/index.js","logics/index.js","hooks/useGetNowScrollDirection/index.js","pages/MainPage/components/VideoCardsLayout/index.js","pages/MainPage/components/Paginations/index.js","components/NavigatorHideOnScrollHeader/index.js","pages/MainPage/components/VideoCardItem/MoreFunctionShield/index.js","pages/MainPage/components/VideoCardItem/styled.js","pages/MainPage/components/VideoCardItem/index.js"],"names":["VideosCenterPositionedWrapper","styled","section","HeaderGoBack","history","push","CollectionsPage","props","useState","nowCollections","setNowCollections","currPage","setCurrPage","useHistory","useEffect","collections","getCollections","Object","values","onCancelCollectionDone","console","log","countSliceIndex","startIndex","lastPlusOneIndex","bunchResultCount","length","partialData","slice","goto","map","item","key","id","videoId","rowPerPage","handleChangePage","nowPage","pagesCount","countPageCount","rowsPerPage","onChangePage","renderPaginations","event","newPage","checkIsAddedInCollections","itemId","collectionsLiteral","window","localStorage","getItem","videoCollections","JSON","parse","addToCollections","setItem","stringify","create","collectionsObj","err","error","swal","fire","icon","titleText","text","message","removeVideoFromCollections","nowBounchDataCount","pages","Math","floor","countPerPage","parseISO8601DurationToTimes","durationText","duration","moment","_hours","hours","_minutes","minutes","_seconds","seconds","Number","useGetNowScrollDirection","thresholdHeight","isScrollDown","setIsScrollDown","isScrollDownRef","useRef","previousScrollTopRef","_handleOnScroll","nowScrollTop","pageYOffset","current","abs","throttledHandleONScroll","_throttle","addEventListener","removeEventListener","FlexVideoLayout","VideoCardsLayout","children","bottomClimbUp","keyframes","bottomSlideDown","PaginationWrapper","div","HidePaginationWrapper","PaginationRounded","totalPage","count","onChange","page","variant","shape","TopClimbUp","topSlideDown","Title","h1","BackTo","TopBarHeaderWrapper","HideTopBarHeaderWrapper","HideableOnScrollHeader","backToMainPage","evt","onClick","MoreFunctionShieldWrapper","AddToCollectionButton","PlayVideoButton","MoreFunctionShield","onMouseLeave","itemData","collectionVideoId","kind","channelId","isExitinCollection","isInCollection","setIsInCollection","VideoCardWrapper","article","FunctionalVideoCardWrapper","VideoCardItem","isShowShield","setIsShowShield","prev","onMouseEnter","className","src","snippet","thumbnails","medium","url","alt","title","description"],"mappings":"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","file":"static/js/6.9844f64c.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getCollections } from \"logics\";\nimport { useHistory } from \"react-router-dom\";\nimport VideoCardItem from \"../MainPage/components/VideoCardItem\";\nimport VideoCardLayout from \"../MainPage/components/VideoCardsLayout\";\nimport Paginations from \"../MainPage/components/Paginations\";\nimport HideableOnScrollHeader from 'components/NavigatorHideOnScrollHeader'\nimport styled from 'styled-components'\nimport { countPageCount, countSliceIndex } from 'logics'\n\n\nconst VideosCenterPositionedWrapper = styled.section`\n  display: flex;\n  justify-content: center;\n  width: 100vw;\n  margin-top: 48px;\n`\n\nconst ROW_PER_PAGE = 12;\n\nconst renderPaginations = (bunchResultCount, rowPerPage, handleChangePage, nowPage) => {\n  if (bunchResultCount > 0) {\n    const pagesCount = countPageCount(bunchResultCount, rowPerPage);\n    return (\n      <Paginations\n        pagesCount={pagesCount}\n        rowsPerPage={ROW_PER_PAGE}\n        onChangePage={handleChangePage}\n        nowPage={nowPage}\n      />\n    );\n  }\n  return null;\n};\n\nconst HeaderGoBack = (history) => {history.push('/')}\n\nfunction CollectionsPage(props) {\n  const [nowCollections, setNowCollections] = useState([]);\n  const [currPage, setCurrPage] = useState(1);\n  const history = useHistory();\n  useEffect(() => {\n    const collections = getCollections();\n    if (collections) {\n      setNowCollections(Object.values(collections));\n    }\n  }, []);\n\n  const onCancelCollectionDone = () => {\n    console.log(\"callback called\");\n    const collections = getCollections();\n    if (collections) {\n      setNowCollections(Object.values(collections));\n    }\n  };\n\n  const [startIndex, lastPlusOneIndex] = countSliceIndex(\n    currPage,\n    ROW_PER_PAGE\n  );\n  const bunchResultCount = nowCollections.length;\n  const partialData =\n  nowCollections.length > 0\n    ? nowCollections.slice(startIndex, lastPlusOneIndex)\n    : [];\n\n  const handleChangePage = (event, newPage) => {\n    setCurrPage(newPage);\n  };\n\n  const renderCollections = (items) =>\n    items.map((item) => (\n      <VideoCardItem\n        key={item.id.videoId}\n        item={item}\n        onCancelCollectionDone={onCancelCollectionDone}\n      />\n    ));\n\n    \n\n  return (\n    <main>\n      <HideableOnScrollHeader goto={HeaderGoBack}>collections page</HideableOnScrollHeader>\n      {partialData.length > 0 ? (\n          <>\n          <VideosCenterPositionedWrapper>\n            <VideoCardLayout>\n              {renderCollections(partialData)}\n            </VideoCardLayout>\n          </VideosCenterPositionedWrapper>\n          {renderPaginations(bunchResultCount, ROW_PER_PAGE, handleChangePage, currPage)}\n</>\n      ) : (\n        <div>目前沒有收藏</div>\n      )}\n    </main>\n  );\n}\n\nCollectionsPage.propTypes = {};\n\nexport default CollectionsPage;\n","import swal from \"sweetalert2\";\nimport moment from 'moment'\n\nconst COLLECTIONs_KEY_IN_LOCAL_STORAGE = \"videoCollections\";\n\nexport const checkIsAddedInCollections = (itemId) => {\n  const collectionsLiteral = window.localStorage.getItem(\n    COLLECTIONs_KEY_IN_LOCAL_STORAGE\n  );\n  const videoCollections = collectionsLiteral && JSON.parse(collectionsLiteral)\n  const has = videoCollections && videoCollections[itemId];\n  return has;\n};\n\nexport const getCollections = () => {\n  const collectionsLiteral = window.localStorage.getItem(\n    COLLECTIONs_KEY_IN_LOCAL_STORAGE\n  );\n  const videoCollections = collectionsLiteral && JSON.parse(collectionsLiteral)\n  return videoCollections  // object\n};\n\n\nexport const addToCollections = (id, item) => {\n  try {\n    const _testIsCollectionsObjExit = window.localStorage.getItem(\n      COLLECTIONs_KEY_IN_LOCAL_STORAGE\n    );\n    if (!_testIsCollectionsObjExit) {\n      window.localStorage.setItem(\n        COLLECTIONs_KEY_IN_LOCAL_STORAGE,\n        JSON.stringify(Object.create(null))\n      );\n    }\n    const collectionsObj = JSON.parse(\n      window.localStorage.getItem(COLLECTIONs_KEY_IN_LOCAL_STORAGE)\n    );\n    collectionsObj[id] = item;\n\n    window.localStorage.setItem(\n      COLLECTIONs_KEY_IN_LOCAL_STORAGE,\n      JSON.stringify(collectionsObj)\n    );\n    return true;\n  } catch (err) {\n    console.error(\"add video to collections error:\", err);\n    swal.fire({\n      icon: \"error\",\n      titleText: \"添加收藏時發生錯誤\",\n      text: err.message,\n    });\n    return false;\n  }\n};\n\nexport const removeVideoFromCollections = (id) => {\n  const _testIsCollectionsObjExit = window.localStorage.getItem(\n    COLLECTIONs_KEY_IN_LOCAL_STORAGE\n  );\n  // edge case\n  if (!_testIsCollectionsObjExit) {\n    swal.fire({\n      icon: \"error\",\n      titleText: \"錯誤\",\n      text: \"目前沒有收藏\",\n    });\n    return;\n  }\n  const collectionsObj = JSON.parse(\n    window.localStorage.getItem(COLLECTIONs_KEY_IN_LOCAL_STORAGE)\n  );\n\n  try {\n    delete collectionsObj[id];\n\n    window.localStorage.setItem(\n      COLLECTIONs_KEY_IN_LOCAL_STORAGE,\n      JSON.stringify(collectionsObj)\n    );\n    return true;\n  } catch (err) {\n    console.error(\"remove video from collections error:\", err);\n    swal.fire({\n      icon: \"error\",\n      titleText: \"移除收藏時發生錯誤\",\n      text: err.message,\n    });\n    return false;\n  }\n};\n\nexport const countPageCount = (nowBounchDataCount, rowPerPage) => {\n  const pages = Math.floor(nowBounchDataCount / rowPerPage);\n  return nowBounchDataCount % rowPerPage > 0 ? pages + 1 : pages;\n};\n\nexport const countSliceIndex = (nowPage, countPerPage) => {\n  const lastPlusOneIndex = nowPage * countPerPage;\n  const startIndex = lastPlusOneIndex - countPerPage;\n\n  return [startIndex, lastPlusOneIndex];\n};\n\n\nexport const parseISO8601DurationToTimes = (durationText) => {\n  if(!durationText) {\n    return '無法取得影片長度'\n  }\n  const duration = moment.duration(durationText)\n  const _hours = duration.hours()\n  const _minutes = duration.minutes()\n  const _seconds = duration.seconds()\n   return `${Number(_hours) ? _hours+'時' : ''} ${Number(_minutes) ? _minutes+'分' : ''} ${Number(_seconds) ? _seconds+'秒': ''}`\n\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport _throttle from 'lodash.throttle';\n\nexport function useGetNowScrollDirection(thresholdHeight = 30) {\n\n  const [isScrollDown, setIsScrollDown] = useState(false); // true 往下,  false 往上\n  const isScrollDownRef = useRef(false); // true 往下,  false 往上\n  const previousScrollTopRef = useRef(0);\n\n  const _handleOnScroll = () => {\n    const nowScrollTop = window.pageYOffset;\n    // !isScrollDownRef.current  是true的話代表滑動方向改變\n    console.log(\"nowScrollTop, previousScrollTopRef\", nowScrollTop, previousScrollTopRef.current)\n    // 用力拉到最上面的時候 previousScrollTopRef.current 會是負的 然後再稍微彈回來\n    if (nowScrollTop > previousScrollTopRef.current && !isScrollDownRef.current && previousScrollTopRef.current > 0) {\n      isScrollDownRef.current = !isScrollDownRef.current \n      setIsScrollDown(true);\n    } else if (nowScrollTop < previousScrollTopRef.current && isScrollDownRef.current) {\n      isScrollDownRef.current = !isScrollDownRef.current\n      setIsScrollDown(false);\n    }\n    if (\n       Math.abs(nowScrollTop - previousScrollTopRef.current) >= thresholdHeight\n    ) {\n       previousScrollTopRef.current = nowScrollTop;\n    }\n\n  };\n\n  const throttledHandleONScroll = _throttle(_handleOnScroll, 500)\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", throttledHandleONScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", throttledHandleONScroll);\n    };\n  }, []);\n\n  return isScrollDown;\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\nconst FlexVideoLayout = styled.section`\n  display: flex;\n  width: 90vw;\n  flex-wrap: wrap;\n  justify-content: space-between;\n\n  @media (max-width: 740px) {\n    justify-content: center; /** make one row */\n  }\n`;\n\nfunction VideoCardsLayout({ children }) {\n  return <FlexVideoLayout>{children}</FlexVideoLayout>;\n}\n\nVideoCardsLayout.propTypes = {};\n\nexport default VideoCardsLayout;\n","import React from 'react';\nimport Pagination from '@material-ui/lab/Pagination';\nimport styled, { keyframes } from 'styled-components'\nimport { useGetNowScrollDirection } from 'hooks/useGetNowScrollDirection'\n\n\nconst bottomClimbUp = keyframes`\n  from {\n    transform: translateY(34px); \n  }\n\n  to {\n    transform: translateY(0px);\n  }\n`\n\nconst bottomSlideDown = keyframes`\n  from {\n    transform: translateY(0px); \n  }\n\n  to {\n    transform: translateY(34px);\n  }\n`\n\nconst PaginationWrapper = styled.div`\n    width: 100vw;\n    display: flex;\n    padding: 3px 0px;\n    justify-content: center;\n    & > *: {\n      marginTop: .2rem,\n    }\n    @media(max-width: 740px) {\n      background: #FFFFFF;\n      position: fixed;\n      bottom: 0px;\n      animation: ${bottomClimbUp} .5s linear forwards;\n    }\n`\n\nconst HidePaginationWrapper = styled.div`\n    width: 100vw;\n    display: flex;\n    padding: 3px 0px;\n    justify-content: center;\n    & > *: {\n      marginTop: .2rem,\n    }\n    @media(max-width: 740px) {\n      background: #FFFFFF;\n      position: fixed;\n      bottom: -34px;\n      animation: ${bottomSlideDown} .5s linear forwards;\n    }\n`\n\nexport default function PaginationRounded({pagesCount, rowsPerPage, totalPage, onChangePage, nowPage}) {\n  // const classes = useStyles();\n  const isScrollDown = useGetNowScrollDirection()\n  return isScrollDown ? (\n    <HidePaginationWrapper>\n      <Pagination count={pagesCount} onChange={onChangePage} page={nowPage} variant=\"outlined\" shape=\"rounded\" rowsPerPage={rowsPerPage}/>\n    </HidePaginationWrapper>\n  ) : (\n    <PaginationWrapper>\n      <Pagination count={pagesCount} onChange={onChangePage} page={nowPage} variant=\"outlined\" shape=\"rounded\" rowsPerPage={rowsPerPage}/>\n    </PaginationWrapper>\n  );\n}","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport { useGetNowScrollDirection } from \"hooks/useGetNowScrollDirection\";\n\nconst TopClimbUp = keyframes`\n  from {\n    transform: translateY(0px); \n  }\n\n  to {\n    transform: translateY(-48px);\n  }\n`;\n\nconst topSlideDown = keyframes`\n  from {\n    transform: translateY(-48px); \n  }\n\n  to {\n    transform: translateY(0px);\n  }\n`;\n\nconst Title = styled.h1`\n  padding: 5px;\n  margin: 0;\n`\n\nconst BackTo = styled.div`\n  left: 20px;\n  font-size: 2em;\n  line-height: 48px;\n  cursor: pointer;\n  &:before {\n    content: '<';\n  }\n`\n\nconst TopBarHeaderWrapper = styled.div`\nposition: relative;\n  width: 100vw;\n  display: flex;\n  padding: 3px 0px;\n  justify-content: center;\n  z-index: 5;\n  @media (max-width: 740px) {\n    background: #ffffff;\n    position: fixed;\n    top: 0px;\n    animation: ${topSlideDown} 0.5s linear forwards;\n  }\n`;\n\nconst HideTopBarHeaderWrapper = styled.div`\nposition: relative;\n  width: 100vw;\n  display: flex;\n  padding: 3px 0px;\n  justify-content: center;\n  z-index: 5;\n  @media (max-width: 740px) {\n    background: #ffffff;\n    position: fixed;\n    top: 0px;\n    animation: ${TopClimbUp} 0.5s linear forwards;\n  }\n`;\n\n\nfunction HideableOnScrollHeader({children, goto}) {\n      const history = useHistory()\n      const backToMainPage =  (evt) => {\n        goto(history)\n      }\n  const isScrollDown = useGetNowScrollDirection();\n\n  return isScrollDown ? (\n    <HideTopBarHeaderWrapper>\n      <BackTo onClick={backToMainPage} /><Title>{children}</Title>\n    </HideTopBarHeaderWrapper>\n  ) : (\n    <TopBarHeaderWrapper>\n      <BackTo onClick={backToMainPage} /><Title>{children}</Title>\n    </TopBarHeaderWrapper>\n  );\n}\n\nHideableOnScrollHeader.propTypes = {};\n\nexport default HideableOnScrollHeader;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\n\nimport {\n  checkIsAddedInCollections,\n  addToCollections,\n  removeVideoFromCollections,\n} from \"logics\";\n\nconst MoreFunctionShieldWrapper = styled.section`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n  background: rgba(0, 0, 0, 0.4);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst AddToCollectionButton = styled.div`\n  padding: 2px;\n  color: #FFFFFF;\n  background: #008008;\n  border-radius: 5px;\n  margin-right: 4px;\n  cursor:pointer;\n`;\n\n\nconst PlayVideoButton = styled.div`\n  padding: 2px;\n  color: #FFFFFF;\n  background: #6699FF;\n  border-radius: 5px;\n  cursor:pointer;\n`;\n\nfunction MoreFunctionShield({ onMouseLeave, itemData, onCancelCollectionDone }) {\n  const collectionVideoId = `${itemData.id.kind}.${itemData.id.videoId || itemData.id.channelId}`;\n  const history = useHistory();\n\n  const isExitinCollection = checkIsAddedInCollections(collectionVideoId);\n\n  const [isInCollection, setIsInCollection] = useState(isExitinCollection);\n\n  const onCancelCollection = () => {\n    const result = removeVideoFromCollections(collectionVideoId);\n    if (result) {\n      setIsInCollection(false);\n      if(onCancelCollectionDone) {\n        onCancelCollectionDone()\n      }\n    }\n  };\n  const onAddToCollection = () => {\n    const result = addToCollections(collectionVideoId, itemData);\n    if (result) {\n      setIsInCollection(true);\n    }\n  };\n  return (\n    <MoreFunctionShieldWrapper onMouseLeave={onMouseLeave}>\n      {isInCollection ? (\n        <AddToCollectionButton onClick={onCancelCollection}>\n          取消收藏\n        </AddToCollectionButton>\n      ) : (\n        <AddToCollectionButton onClick={onAddToCollection}>\n          加入收藏\n        </AddToCollectionButton>\n      )}\n      <PlayVideoButton onClick={() => {history.push('/player', {itemData})}}>播放影片</PlayVideoButton>\n    </MoreFunctionShieldWrapper>\n  );\n}\n\nMoreFunctionShield.propTypes = {};\n\nexport default MoreFunctionShield;\n","import styled from 'styled-components'\n\nexport const VideoCardWrapper = styled.article`\n  margin: 0.4rem;\n  width: 320px;\n  word-wrap: break-word;\n  .imgWrapper {\n    display: flex;\n    justify-content: center;\n  } \n\n  .title {\n    margin-bottom: .3rem;\n  }\n\n  .description{\n    margin-bottom: .3rem;\n  }\n\n  .duration{\n  }\n`;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\nimport MoreFunctionShield from \"./MoreFunctionShield\";\nimport { VideoCardWrapper } from \"./styled\";\nimport { parseISO8601DurationToTimes } from \"logics\";\n\nconst FunctionalVideoCardWrapper = styled.section`\n  position: relative;\n`;\n\nfunction VideoCardItem({ item, onCancelCollectionDone }) {\n  const [isShowShield, setIsShowShield] = useState(false);\n\n  const handleOnMouseEnter = (evt) => {\n    setIsShowShield(true);\n  };\n\n  const handleOnMouseLeave = (evt) => {\n    setIsShowShield(false);\n  };\n\n  const handleOnClick = (evt) => {\n    setIsShowShield(prev => !prev);\n  };\n\n\n  return (\n    <VideoCardWrapper>\n      <FunctionalVideoCardWrapper onClick={handleOnClick} onMouseEnter={handleOnMouseEnter}>\n        {isShowShield && (\n          <MoreFunctionShield\n            onMouseLeave={handleOnMouseLeave}\n            itemData={item}\n            onCancelCollectionDone={onCancelCollectionDone}\n          />\n        )}\n        <div className=\"imgWrapper\">\n          <img src={item.snippet.thumbnails.medium.url} alt={item.title} />\n        </div>\n      </FunctionalVideoCardWrapper>\n      <h3 className=\"title\">{item.snippet.title}</h3>\n      <div className=\"description\">{item.snippet.description}</div>\n      <div className=\"duration\">\n        {parseISO8601DurationToTimes(item.duration)}\n      </div>\n    </VideoCardWrapper>\n  );\n}\n\nVideoCardItem.propTypes = {};\n\nexport default VideoCardItem;\n"],"sourceRoot":""}